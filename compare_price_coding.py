"""
Effects Coding vs 연속형 표준화 비교
"""

print('=' * 100)
print('가격 변수 처리 방법 비교')
print('=' * 100)
print()

print('┌─────────────────────────────────────────────────────────────────────────────┐')
print('│ 방법 1: Effects Coding (이전)                                               │')
print('└─────────────────────────────────────────────────────────────────────────────┘')
print()
print('  변환 방법:')
print('    - 중간값(₩2,500)을 0으로 설정')
print('    - 나머지를 표준편차로 나눔')
print('    - ₩2,000 → -1.225')
print('    - ₩2,500 → 0.000')
print('    - ₩3,000 → 1.225')
print()
print('  추정 결과:')
print('    - β_price = -0.5677')
print('    - SE = 0.3435')
print('    - t = -1.653')
print('    - p = 0.0984')
print()
print('  해석:')
print('    - 가격이 1 표준편차 증가 → 효용 0.568 감소')
print('    - 비선형 효과 가정 (3개 레벨을 독립적으로 처리)')
print()

print('┌─────────────────────────────────────────────────────────────────────────────┐')
print('│ 방법 2: 연속형 Z-score 표준화 (현재)                                        │')
print('└─────────────────────────────────────────────────────────────────────────────┘')
print()
print('  변환 방법:')
print('    - 평균(₩2,500)을 0으로 설정')
print('    - 표준편차(₩408.3)로 나눔')
print('    - ₩2,000 → -1.225')
print('    - ₩2,500 → 0.000')
print('    - ₩3,000 → 1.225')
print()
print('  추정 결과:')
print('    - β_price = -0.5678')
print('    - SE = 0.3438')
print('    - t = -1.652')
print('    - p = 0.0986')
print()
print('  해석:')
print('    - 가격이 1 표준편차(₩408.3) 증가 → 효용 0.568 감소')
print('    - 선형 효과 가정 (가격이 연속적으로 증가)')
print()

print('┌─────────────────────────────────────────────────────────────────────────────┐')
print('│ 비교 결과                                                                    │')
print('└─────────────────────────────────────────────────────────────────────────────┘')
print()
print('  ✅ 결과가 거의 동일함!')
print()
print('  이유:')
print('    - 가격 레벨이 3개뿐이고 균등 분포')
print('    - Effects coding과 Z-score가 수학적으로 동일한 변환')
print('    - 평균 = 중간값 = ₩2,500')
print('    - 표준편차 계산 방식만 약간 다름')
print()
print('  차이점:')
print('    ┌──────────────────┬─────────────────┬─────────────────┐')
print('    │                  │ Effects Coding  │ Z-score         │')
print('    ├──────────────────┼─────────────────┼─────────────────┤')
print('    │ β_price          │ -0.5677         │ -0.5678         │')
print('    │ SE               │  0.3435         │  0.3438         │')
print('    │ t-통계량         │ -1.653          │ -1.652          │')
print('    │ p-value          │  0.0984         │  0.0986         │')
print('    └──────────────────┴─────────────────┴─────────────────┘')
print()
print('  결론:')
print('    - 연속형 처리로 변경해도 결과는 동일')
print('    - 여전히 p = 0.098 (경계선상 유의)')
print('    - 가격 효과가 약한 근본 원인은 다른 곳에 있음')
print()

print('┌─────────────────────────────────────────────────────────────────────────────┐')
print('│ 가격 효과가 약한 진짜 원인                                                   │')
print('└─────────────────────────────────────────────────────────────────────────────┘')
print()
print('  1. 가격 범위가 작음 (₩1,000, 50%)')
print('     → 다른 연구들은 보통 2배~3배 차이 사용')
print()
print('  2. 절대 가격이 낮음 (₩2,000~3,000)')
print('     → 응답자들이 가격에 민감하지 않음')
print()
print('  3. 무설탕/건강라벨 효과가 강함')
print('     → ASC_sugar_free = 2.511 (p=0.031)')
print('     → 가격 효과를 압도')
print()
print('  4. 표준오차가 큼 (SE = 0.344)')
print('     → 추정이 불안정')
print('     → 다중공선성 또는 샘플 크기 문제')
print()

print('┌─────────────────────────────────────────────────────────────────────────────┐')
print('│ 권장사항                                                                     │')
print('└─────────────────────────────────────────────────────────────────────────────┘')
print()
print('  ✅ 연속형 처리 유지 (이론적으로 더 적절)')
print('     - 가격은 본질적으로 연속형 변수')
print('     - 선형 효과 가정이 합리적')
print()
print('  ✅ p = 0.098을 "marginally significant"로 보고')
print('     - 10% 유의수준에서는 유의함')
print('     - 방향성(음수)이 이론과 일치')
print('     - 카이제곱 검정에서는 p < 0.0001')
print()
print('  ✅ 향후 연구에서 가격 범위 확대 제안')
print('     - 현재: ₩2,000 ~ ₩3,000 (50% 차이)')
print('     - 권장: ₩1,500 ~ ₩4,500 (200% 차이)')
print()

print('=' * 100)

