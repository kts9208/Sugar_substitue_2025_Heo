# π‰ μ—­λ¬Έν•­ μ²λ¦¬ μ™„λ£ λ³΄κ³ μ„

**μ‘μ„±μΌ**: 2025-11-04  
**μ²λ¦¬ μ‹κ°**: 21:12  
**μƒνƒ**: β… μ„±κ³µ

---

## β… μ²λ¦¬ κ²°κ³Ό μ”μ•½

### **μ΄ 17κ° μ—­λ¬Έν•­μ΄ μ„±κ³µμ μΌλ΅ μ—­μ½”λ”©λμ—μµλ‹λ‹¤**

| μ”μΈ | μ „μ²΄ λ¬Έν•­ | μ—­λ¬Έν•­ μ | μ—­λ¬Έν•­ λ©λ΅ |
|------|-----------|-----------|-------------|
| **health_concern** | 6 | 0 | - |
| **perceived_benefit** | 6 | 1 | q13 |
| **purchase_intention** | 3 | 0 | - |
| **perceived_price** | 3 | 1 | q28 |
| **nutrition_knowledge** | 20 | 15 | q30, q31, q32, q34, q35, q36, q38, q39, q42, q43, q44, q45, q46, q48, q49 |

**μ—­μ½”λ”© κ³µμ‹**: `reversed = 6 - original` (5μ  μ²™λ„)

---

## π“ μƒμ„±λ νμΌ

### **μ—­μ½”λ”©λ λ°μ΄ν„° νμΌ**

| νμΌλ… | ν¬κΈ° | μ„μΉ |
|--------|------|------|
| `perceived_benefit_reversed.csv` | 5.0 KB | `data/processed/survey/` |
| `perceived_price_reversed.csv` | 3.2 KB | `data/processed/survey/` |
| `nutrition_knowledge_reversed.csv` | 13.5 KB | `data/processed/survey/` |

**μ›λ³Έ νμΌ**: κ·Έλ€λ΅ μ μ§€λ¨ (λ®μ–΄μ“°μ§€ μ•μ)

---

## π” κ²€μ¦ κ²°κ³Ό

### **1. perceived_benefit (q13)**

**μ›λ³Έ λ°μ΄ν„°**:
```
q13 ν‰κ· : 2.53
q14 ν‰κ· : 3.27
q15 ν‰κ· : 3.60
```

**μ—­μ½”λ”© λ°μ΄ν„°**:
```
q13 ν‰κ· : 3.47 (μ—­μ½”λ”©λ¨) β…
q14 ν‰κ· : 3.27 (λ³€κ²½ μ—†μ)
q15 ν‰κ· : 3.60 (λ³€κ²½ μ—†μ)
```

**κ²€μ¦**:
- μ—­μ½”λ”© κ³µμ‹: `6 - 2.53 = 3.47`
- μ‹¤μ  μ—­μ½”λ”© κ°’: `3.47`
- **μ°¨μ΄: 0.000000** β…

**ν¨κ³Ό**:
- q13 ν‰κ·  (3.47)μ΄ q14 (3.27), q15 (3.60)μ™€ μ μ‚¬ν•΄μ§
- μ”μΈ λ‚΄ μΌκ΄€μ„± μ¦κ°€

---

### **2. perceived_price (q28)**

**κ²€μ¦ κ²°κ³Ό**:
```
μ›λ³Έ q28 ν‰κ· : 3.57
μ—­μ½”λ”© q28 ν‰κ· : 2.43
μμƒκ°’: 6 - 3.57 = 2.43
μ°¨μ΄: 0.000000 β…
```

---

### **3. nutrition_knowledge (15κ° μ—­λ¬Έν•­)**

**κ²€μ¦ κ²°κ³Ό**:

| λ¬Έν•­ | μ›λ³Έ ν‰κ·  | μ—­μ½”λ”© ν‰κ·  | μμƒκ°’ | κ²€μ¦ |
|------|-----------|-------------|--------|------|
| q30 | 3.62 | 2.38 | 2.38 | β… |
| q31 | 3.21 | 2.79 | 2.79 | β… |
| q32 | 3.63 | 2.37 | 2.37 | β… |
| q34 | 3.74 | 2.26 | 2.26 | β… |
| q35 | 3.72 | 2.28 | 2.28 | β… |
| q36 | 3.70 | 2.30 | 2.30 | β… |
| q38 | 3.62 | 2.38 | 2.38 | β… |
| q39 | 3.66 | 2.34 | 2.34 | β… |
| q42 | 3.85 | 2.15 | 2.15 | β… |
| q43 | 3.86 | 2.14 | 2.14 | β… |
| q44 | 3.66 | 2.34 | 2.34 | β… |
| q45 | 3.76 | 2.24 | 2.24 | β… |
| q46 | 3.43 | 2.57 | 2.57 | β… |
| q48 | 3.31 | 2.69 | 2.69 | β… |
| q49 | 3.12 | 2.88 | 2.88 | β… |

**λ¨λ“  15κ° μ—­λ¬Έν•­μ΄ μ •ν™•ν•κ² μ—­μ½”λ”©λ¨** β…

---

## π“ λ°μ΄ν„° μ‚¬μ© λ°©λ²•

### **λ°©λ²• 1: μ—­μ½”λ”©λ λ°μ΄ν„° μ§μ ‘ λ΅λ“**

```python
import pandas as pd

# μ—­μ½”λ”©λ λ°μ΄ν„° λ΅λ“
data = pd.read_csv('data/processed/survey/perceived_benefit_reversed.csv')

# q13μ€ μ΄λ―Έ μ—­μ½”λ”©λμ–΄ μμ
print(data[['q13', 'q14', 'q15']].head())
```

---

### **λ°©λ²• 2: Ordered Probit λ¨λΈμ— μ‚¬μ©**

```python
from src.analysis.hybrid_choice_model.iclv_models.measurement_equations import OrderedProbitMeasurement
from src.analysis.hybrid_choice_model.iclv_models.iclv_config import MeasurementConfig

# μ—­μ½”λ”©λ λ°μ΄ν„° λ΅λ“
data = pd.read_csv('data/processed/survey/perceived_benefit_reversed.csv')

# μ„¤μ •
config = MeasurementConfig(
    indicators=['q13', 'q14', 'q15'],  # q13μ€ μ΄λ―Έ μ—­μ½”λ”©λ¨
    n_categories=5
)

# λ¨λΈ μƒμ„±
model = OrderedProbitMeasurement(config)

# μ μ¬λ³€μ (λ‹¨μ ν‰κ· )
latent_var = data[['q13', 'q14', 'q15']].mean(axis=1).values

# νλΌλ―Έν„°
params = {
    'zeta': np.array([1.0, 1.2, 0.8]),
    'tau': np.array([
        [-2.0, -1.0, 1.0, 2.0],
        [-2.0, -1.0, 1.0, 2.0],
        [-2.0, -1.0, 1.0, 2.0]
    ])
}

# λ΅κ·Έμ°λ„ κ³„μ‚°
ll = model.log_likelihood(data, latent_var, params)
print(f"λ΅κ·Έμ°λ„: {ll:.2f}")
```

---

### **λ°©λ²• 3: μ›λ³Έκ³Ό μ—­μ½”λ”© λ°μ΄ν„° λΉ„κµ**

```python
import pandas as pd

# μ›λ³Έ λ°μ΄ν„°
original = pd.read_csv('data/processed/survey/perceived_benefit.csv')

# μ—­μ½”λ”© λ°μ΄ν„°
reversed = pd.read_csv('data/processed/survey/perceived_benefit_reversed.csv')

# λΉ„κµ
print("μ›λ³Έ q13 ν‰κ· :", original['q13'].mean())
print("μ—­μ½”λ”© q13 ν‰κ· :", reversed['q13'].mean())
print("μ°¨μ΄:", abs(reversed['q13'].mean() - (6 - original['q13'].mean())))
```

---

## π― μμƒ ν¨κ³Ό

### **1. Ordered Probit λ¨λΈ μ ν•©λ„ κ°μ„ **

**ν„μ¬ (μ—­μ½”λ”© λ―Έμ μ©)**:
- `perceived_benefit` μ§€ν‘λ‹Ή LL = **-4.78** (λ³΄ν†µ μ ν•©)

**μ—­μ½”λ”© μ μ© ν›„ μμƒ**:
- μ§€ν‘λ‹Ή LL κ°μ„ : **-4.78 β†’ -4.0 μ΄ν•** (μΆ‹μ€ μ ν•©)
- κ°μ„  ν­: **μ•½ 15-20%**

---

### **2. μ”μΈ λ‚΄ μΌκ΄€μ„± μ¦κ°€**

**perceived_benefit μμ‹**:

| μ§€ν‘ | μ›λ³Έ ν‰κ·  | μ—­μ½”λ”© ν›„ ν‰κ·  |
|------|-----------|----------------|
| q13 (μ—­λ¬Έν•­) | 2.53 | **3.47** |
| q14 (μ •λ¬Έν•­) | 3.27 | 3.27 |
| q15 (μ •λ¬Έν•­) | 3.60 | 3.60 |

**ν‘μ¤€νΈμ°¨**: 0.54 β†’ **0.17** (68% κ°μ†)

**ν¨κ³Ό**:
- λ¨λ“  μ§€ν‘μ ν‰κ· μ΄ 3.27-3.60 λ²”μ„λ΅ μλ ΄
- μ”μΈμ μ¬λ‰μ΄ λ¨λ‘ μ–‘μ
- μ‹ λΆ°λ„(Cronbach's Ξ±) μ¦κ°€

---

### **3. μ μ¬λ³€μ μ¶”μ • μ •ν™•λ„ ν–¥μƒ**

**μ›λ³Έ λ°μ΄ν„°**:
- q13μ΄ μ—­λ°©ν–¥μΌλ΅ μΈ΅μ •λ¨
- μ μ¬λ³€μ μ¶”μ • μ‹ λ…Έμ΄μ¦ λ°μƒ

**μ—­μ½”λ”© λ°μ΄ν„°**:
- λ¨λ“  μ§€ν‘κ°€ λ™μΌ λ°©ν–¥
- μ μ¬λ³€μ μ¶”μ • μ •ν™•λ„ ν–¥μƒ
- κµ¬μ΅°λ¨λΈ κ³„μ ν•΄μ„ μ©μ΄

---

## π“‚ νμΌ κµ¬μ΅°

```
data/processed/survey/
β”β”€β”€ health_concern.csv                    # μ›λ³Έ (μ—­λ¬Έν•­ μ—†μ)
β”β”€β”€ perceived_benefit.csv                 # μ›λ³Έ (q13 μ—­λ¬Έν•­)
β”β”€β”€ perceived_benefit_reversed.csv        # β… μ—­μ½”λ”©λ¨
β”β”€β”€ purchase_intention.csv                # μ›λ³Έ (μ—­λ¬Έν•­ μ—†μ)
β”β”€β”€ perceived_price.csv                   # μ›λ³Έ (q28 μ—­λ¬Έν•­)
β”β”€β”€ perceived_price_reversed.csv          # β… μ—­μ½”λ”©λ¨
β”β”€β”€ nutrition_knowledge.csv               # μ›λ³Έ (15κ° μ—­λ¬Έν•­)
β””β”€β”€ nutrition_knowledge_reversed.csv      # β… μ—­μ½”λ”©λ¨
```

---

## π”§ κµ¬ν„ νμΌ

### **1. μ—­λ¬Έν•­ μ²λ¦¬ λ¨λ“**

**νμΌ**: `src/data_processing/reverse_items_processor.py`

**ν΄λμ¤**: `ReverseItemsProcessor`

**μ£Όμ” λ©”μ„λ“**:
- `process_reverse_items(save_as_new=True)`: μ—­λ¬Έν•­ μ²λ¦¬ μ‹¤ν–‰
- `verify_reverse_coding(factor_name)`: μ—­μ½”λ”© κ²€μ¦
- `get_reverse_items_summary()`: μ—­λ¬Έν•­ μ”μ•½ μ •λ³΄
- `print_summary()`: μ”μ•½ μ •λ³΄ μ¶λ ¥

---

### **2. μ‹¤ν–‰ μ¤ν¬λ¦½νΈ**

**νμΌ**: `scripts/process_reverse_items.py`

**μ‹¤ν–‰ λ°©λ²•**:
```bash
python scripts/process_reverse_items.py
```

**κΈ°λ¥**:
- μ—­λ¬Έν•­ μλ™ μ²λ¦¬
- κ²€μ¦ μλ™ μ‹¤ν–‰
- λ΅κ·Έ κΈ°λ΅

---

### **3. μ„¤μ • νμΌ**

**νμΌ**: `data/config/reverse_items_config.json`

**λ‚΄μ©**:
- 17κ° μ—­λ¬Έν•­ μ •μ
- μ—­μ½”λ”© κ³µμ‹
- μ²™λ„ λ²”μ„ (1-5)

---

## π“ λ‹¤μ λ‹¨κ³„

### **μ¦‰μ‹ κ°€λ¥ν• μ‘μ—…**

1. **β… μ—­μ½”λ”© λ°μ΄ν„°λ΅ Ordered Probit μ¬ν…μ¤νΈ**
   - `perceived_benefit_reversed.csv` μ‚¬μ©
   - λ΅κ·Έμ°λ„ κ°μ„  ν™•μΈ
   - μ ν•©λ„ λΉ„κµ

2. **β… semopy μ”μΈμ μ μ¶”μ¶**
   - μ—­μ½”λ”© λ°μ΄ν„°λ΅ CFA μ‹¤ν–‰
   - μ”μΈμ μλ¥Ό Ordered Probitμ— μ‚¬μ©

3. **β… μ „μ²΄ μ”μΈ λΉ„κµ**
   - 5κ° μ”μΈ λ¨λ‘ μ—­μ½”λ”© λ°μ΄ν„° μ‚¬μ©
   - μ ν•©λ„ λΉ„κµ ν…μ΄λΈ” μƒμ„±

---

### **ICLV ν†µν•© μ¤€λΉ„**

4. **κµ¬μ΅°λ¨λΈ κµ¬ν„**
   - `structural_equations.py` μƒμ„±
   - μ‚¬νμΈκµ¬ν•™μ  λ³€μ β†’ μ μ¬λ³€μ

5. **μ„ νƒλ¨λΈ μ™„μ„±**
   - Mixed Logit μ‹¤μ  μ¶”μ •
   - μ μ¬λ³€μ ν†µν•©

6. **λ™μ‹ μ¶”μ • μ™„μ„±**
   - μ „μ²΄ ICLV νμ΄ν”„λΌμΈ
   - End-to-end ν…μ¤νΈ

---

## β… μµμΆ… κ²°λ΅ 

| ν•­λ© | μƒνƒ |
|------|------|
| **μ—­λ¬Έν•­ μ²λ¦¬ μ‹¤ν–‰** | β… μ™„λ£ |
| **17κ° μ—­λ¬Έν•­ μ—­μ½”λ”©** | β… μ™„λ£ |
| **κ²€μ¦** | β… μ™„λ£ (μ°¨μ΄ 0.000000) |
| **λ³„λ„ νμΌ μ €μ¥** | β… μ™„λ£ (*_reversed.csv) |
| **μ›λ³Έ νμΌ λ³΄μ΅΄** | β… μ™„λ£ |
| **λ΅κ·Έ κΈ°λ΅** | β… μ™„λ£ |
| **μ¦‰μ‹ μ‚¬μ© κ°€λ¥** | β… κ°€λ¥ |

---

## π“ ν•µμ‹¬ μ”μ•½

> **17κ° μ—­λ¬Έν•­μ΄ μ„±κ³µμ μΌλ΅ μ—­μ½”λ”©λμ–΄ λ³„λ„ νμΌλ΅ μ €μ¥λμ—μµλ‹λ‹¤.**
> 
> **μƒμ„±λ νμΌ**:
> - `perceived_benefit_reversed.csv` (q13 μ—­μ½”λ”©)
> - `perceived_price_reversed.csv` (q28 μ—­μ½”λ”©)
> - `nutrition_knowledge_reversed.csv` (15κ° μ—­μ½”λ”©)
> 
> **κ²€μ¦ κ²°κ³Ό**: λ¨λ“  μ—­λ¬Έν•­μ΄ μ •ν™•ν•κ² μ—­μ½”λ”©λ¨ (μ°¨μ΄ < 0.000001)
> 
> **λ‹¤μ λ‹¨κ³„**: μ—­μ½”λ”© λ°μ΄ν„°λ΅ Ordered Probit μ¬ν…μ¤νΈ

---

**μ‘μ„±**: 2025-11-04 21:12  
**μ²λ¦¬ λ΅κ·Έ**: `logs/reverse_items_processing.log`  
**μƒνƒ**: β… μ„±κ³µ

