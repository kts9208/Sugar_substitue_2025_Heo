# μλ™ μ„¤μ • κ°€μ΄λ“ (Auto Configuration Guide)

## π“ κ°μ”

λ™μ‹μ¶”μ • μ¤ν¬λ¦½νΈ(`test_gpu_batch_iclv.py`)κ°€ μμ°¨μ¶”μ • 2λ‹¨κ³„ CSV νμΌλ…μ—μ„ λ¨λ“  μ„¤μ •μ„ μλ™μΌλ΅ μ¶”μ¶ν•λ„λ΅ κ°μ„ λμ—μµλ‹λ‹¤.

**μ£Όμ” μ¥μ :**
- β… CSV νμΌλ…λ§ μ§€μ •ν•λ©΄ κ²½λ΅, μ„ νƒλ¨λΈ μ„¤μ •μ΄ μλ™μΌλ΅ νμ‹±λ¨
- β… μ„¤μ • λ¶μΌμΉ κ±±μ • μ—†μ
- β… κ²€μ¦ λ΅μ§μΌλ΅ μ•μ „μ„± λ³΄μ¥

---

## π€ μ‚¬μ© λ°©λ²•

### 1. μλ™ μ„¤μ • λ¨λ“ (κ¶μ¥)

```python
# scripts/test_gpu_batch_iclv.py

# μ„¤μ • λ¨λ“ μ„ νƒ
AUTO_CONFIG_FROM_CSV = True  # μλ™ λ¨λ“

# CSV νμΌλ…λ§ μ§€μ •
INITIAL_PARAMS_CSV = 'st2_HC-PB_PB-PI1_NK_PI2_results.csv'
```

**μ‹¤ν–‰ κ²°κ³Ό:**
```
======================================================================
[AUTO] μλ™ μ„¤μ • λ¨λ“: CSV νμΌμ—μ„ μ„¤μ • μ¶”μ¶
======================================================================
CSV νμΌ: st2_HC-PB_PB-PI1_NK_PI2_results.csv

[νμ‹± κ²°κ³Ό]
  1λ‹¨κ³„ κ²½λ΅ (νμΌλ…): ['HC->PB', 'PB->PI']
  μ£Όν¨κ³Ό LV (νμΌ λ‚΄μ©): ['nutrition_knowledge', 'purchase_intention']
  μ΅°μ ν¨κ³Ό: μ—†μ
  LV-Attribute μƒνΈμ‘μ© (νμΌ λ‚΄μ©): [('nutrition_knowledge', 'price'), ('purchase_intention', 'health_label')]
======================================================================
```

### 2. μλ™ μ„¤μ • λ¨λ“ (κΈ°μ΅΄ λ°©μ‹)

```python
# μ„¤μ • λ¨λ“ μ„ νƒ
AUTO_CONFIG_FROM_CSV = False  # μλ™ λ¨λ“

# κ²½λ΅ μ„¤μ •
PATHS = {
    'HC->PB': True,
    'PB->PI': True,
    # ... λ‚λ¨Έμ§€ False
}

# μ„ νƒλ¨λΈ μ„¤μ •
MAIN_LVS = ['purchase_intention', 'nutrition_knowledge']
LV_ATTRIBUTE_INTERACTIONS = [('purchase_intention', 'health_label'), ('nutrition_knowledge', 'price')]

# CSV νμΌλ…
INITIAL_PARAMS_CSV = 'st2_HC-PB_PB-PI1_NK_PI2_results.csv'
```

**μ‹¤ν–‰ κ²°κ³Ό:**
```
======================================================================
[VALIDATE] μ„¤μ • κ²€μ¦ μ¤‘...
======================================================================
[OK] κ²€μ¦ ν†µκ³Ό: CSV νμΌκ³Ό μ„¤μ •μ΄ μΌμΉν•©λ‹λ‹¤!
======================================================================
```

---

## π“‹ CSV νμΌλ… ν•μ‹

### κΈ°λ³Έ ν•μ‹
```
st2_{stage1_paths}1_{stage2_config}2_results.csv
```

### μμ‹

#### 1. μ£Όν¨κ³Όλ§ μλ” κ²½μ°
```
st2_HC-PB_PB-PI1_NK_PI2_results.csv
```
- **1λ‹¨κ³„ κ²½λ΅**: HCβ†’PB, PBβ†’PI
- **2λ‹¨κ³„ μ„ νƒλ¨λΈ**: NK, PI μ£Όν¨κ³Ό

#### 2. μ£Όν¨κ³Ό + μƒνΈμ‘μ©
```
st2_HC-PB_PB-PI1_PI_int_PIxhl_NKxpr2_results.csv
```
- **1λ‹¨κ³„ κ²½λ΅**: HCβ†’PB, PBβ†’PI
- **2λ‹¨κ³„ μ„ νƒλ¨λΈ**: 
  - PI μ£Όν¨κ³Ό
  - PI Γ— health_label μƒνΈμ‘μ©
  - NK Γ— price μƒνΈμ‘μ©

**μ°Έκ³ :** ν„μ¬ λ²„μ „μ€ νμΌλ…μ— μƒνΈμ‘μ© μ •λ³΄κ°€ μ—†μ–΄λ„ **CSV νμΌ λ‚΄μ©μ„ νμ‹±**ν•μ—¬ μλ™μΌλ΅ μ¶”μ¶ν•©λ‹λ‹¤!

---

## π” νμ‹± λ΅μ§

### 1. νμΌλ… νμ‹± (`parse_csv_filename`)
- 1λ‹¨κ³„ κ²½λ΅ μ •λ³΄ μ¶”μ¶
- 2λ‹¨κ³„ μ£Όν¨κ³Ό LV μ¶”μ¶ (νμΌλ…μ— μλ” κ²½μ°)

### 2. νμΌ λ‚΄μ© νμ‹± (`parse_csv_content`)
- CSV νμΌμ Parameters μ„Ήμ… λ¶„μ„
- `theta_*` νλΌλ―Έν„° β†’ μ£Όν¨κ³Ό LV μ¶”μ¶
- `gamma_*` νλΌλ―Έν„° β†’ LV-Attribute μƒνΈμ‘μ© μ¶”μ¶

**νλΌλ―Έν„° μ΄λ¦„ κ·μΉ™:**
```python
# μ£Όν¨κ³Ό
theta_sugar_purchase_intention β†’ purchase_intention μ£Όν¨κ³Ό
theta_sugar_free_nutrition_knowledge β†’ nutrition_knowledge μ£Όν¨κ³Ό

# μƒνΈμ‘μ©
gamma_sugar_purchase_intention_health_label β†’ (purchase_intention, health_label)
gamma_sugar_free_nutrition_knowledge_price β†’ (nutrition_knowledge, price)
```

### 3. κ²€μ¦ λ΅μ§ (`validate_csv_config_match`)
- νμΌλ…κ³Ό νμΌ λ‚΄μ© λ¨λ‘ κ²€μ¦
- λ¶μΌμΉ μ‹ λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€ μ¶λ ¥

---

## β οΈ μ£Όμμ‚¬ν•­

1. **CSV νμΌ μ„μΉ**: `results/sequential_stage_wise/` ν΄λ”μ— μμ–΄μ•Ό ν•¨
2. **PKL νμΌ μλ™ μƒμ„±**: κ²½λ΅ μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ μλ™ μƒμ„±λ¨
   ```python
   # μ: PATHS = {'HC->PB': True, 'PB->PI': True}
   # β†’ INITIAL_PARAMS_PKL = 'stage1_HC-PB_PB-PI_results.pkl'
   ```
3. **νμΌλ… κ·μΉ™ μ¤€μ**: μμ°¨μ¶”μ • 2λ‹¨κ³„μ—μ„ μƒμ„±λ νμΌλ… ν•μ‹μ„ λ”°λΌμ•Ό ν•¨

---

## π“ λΉ„κµ: μλ™ vs μλ™

| ν•­λ© | μλ™ λ¨λ“ | μλ™ λ¨λ“ |
|------|----------|----------|
| μ„¤μ • νΈμμ„± | β­β­β­β­β­ | β­β­ |
| μ¤λ¥ κ°€λ¥μ„± | λ‚®μ | λ†’μ (μλ™ μ…λ ¥) |
| κ²€μ¦ | μλ™ | μλ™ κ²€μ¦ ν•„μ” |
| μ μ§€λ³΄μ | μ‰¬μ›€ | μ–΄λ ¤μ›€ |
| κ¶μ¥ μ‚¬μ© | β… λ¨λ“  κ²½μ° | νΉμν• κ²½μ°λ§ |

---

## π― κ²°λ΅ 

**μλ™ μ„¤μ • λ¨λ“λ¥Ό μ‚¬μ©ν•μ„Έμ”!**
- CSV νμΌλ…λ§ μ§€μ •ν•λ©΄ λ¨λ“  μ„¤μ •μ΄ μλ™μΌλ΅ μ¶”μ¶λ©λ‹λ‹¤
- μ„¤μ • λ¶μΌμΉλ΅ μΈν• μ¤λ¥λ¥Ό λ°©μ§€ν•  μ μμµλ‹λ‹¤
- μ½”λ“ μ μ§€λ³΄μκ°€ ν›¨μ”¬ μ‰¬μ›μ§‘λ‹λ‹¤

