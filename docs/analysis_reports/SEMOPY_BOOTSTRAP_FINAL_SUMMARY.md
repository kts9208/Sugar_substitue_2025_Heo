# ğŸ¯ semopy ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê¸°ëŠ¥ ìµœì¢… í™•ì¸ ë° êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ“‹ **ê²€í†  ê²°ê³¼ ìš”ì•½**

### 1. **semopy ë‚´ì¥ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê¸°ëŠ¥ í™•ì¸**

#### âŒ **ê³µì‹ ë¬¸ì„œì™€ ì‹¤ì œ êµ¬í˜„ì˜ ì°¨ì´**
- **ê³µì‹ ë¬¸ì„œ**: `inspect(bootstrap=True, n_boot=1000)` ê¸°ëŠ¥ ì–¸ê¸‰
- **ì‹¤ì œ êµ¬í˜„**: semopy 2.3.11ì—ì„œ `inspect` ë©”ì„œë“œì— `bootstrap` íŒŒë¼ë¯¸í„° ì—†ìŒ
- **ê²°ë¡ **: ê³µì‹ ë¬¸ì„œì™€ ì‹¤ì œ êµ¬í˜„ ê°„ ë¶ˆì¼ì¹˜ í™•ì¸

#### âœ… **semopy ë‚´ì¥ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê´€ë ¨ ê¸°ëŠ¥ ë°œê²¬**
1. **`bias_correction(model, n=100)`**: Parametric Bootstrap bias correction
2. **`generate_data(model, n=samples)`**: ëª¨ë¸ ê¸°ë°˜ ë°ì´í„° ìƒì„±
3. **`se_robust=True`**: Robust standard errors (MLR-esque sandwich correction)

### 2. **ìµœì¢… êµ¬í˜„ ë°©ì‹**

#### ğŸ”§ **Hybrid ì ‘ê·¼ë²• ì±„íƒ**
```python
# 1ìˆœìœ„: semopy ë‚´ì¥ ê¸°ëŠ¥ í™œìš©
def _run_semopy_native_bootstrap_sampling():
    """semopyì˜ generate_data í•¨ìˆ˜ í™œìš©"""
    for i in range(n_bootstrap):
        # semopy ë‚´ì¥ ë°ì´í„° ìƒì„±
        bootstrap_data = generate_data(original_model, n=len(self.data))
        # ëª¨ë¸ ì¬ì í•© ë° íš¨ê³¼ ê³„ì‚°
        
# 2ìˆœìœ„: ìˆ˜ë™ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ (fallback)
def _run_semopy_bootstrap_sampling():
    """ìˆ˜ë™ ë¦¬ìƒ˜í”Œë§ + semopy ëª¨ë¸ ì¬ì í•©"""
    # ê¸°ì¡´ ë°©ì‹ ìœ ì§€
```

#### ğŸ“Š **êµ¬í˜„ëœ ê¸°ëŠ¥ë“¤**

**âœ… í•µì‹¬ ê¸°ëŠ¥:**
1. **semopy ë‚´ì¥ ê¸°ëŠ¥ ìš°ì„  ì‚¬ìš©**: `generate_data()` í™œìš©
2. **ìë™ fallback**: ë‚´ì¥ ê¸°ëŠ¥ ì‹¤íŒ¨ ì‹œ ìˆ˜ë™ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘
3. **ì™„ì „í•œ ë§¤ê°œíš¨ê³¼ ë¶„ì„**: ì§ì ‘/ê°„ì ‘/ì´íš¨ê³¼ + ê°œë³„ ë§¤ê°œë³€ìˆ˜ë³„ íš¨ê³¼
4. **ë‹¤ì–‘í•œ ì‹ ë¢°êµ¬ê°„**: percentile, bias-corrected ë°©ë²•
5. **í¬ê´„ì ì¸ í†µê³„**: í‰ê· , í‘œì¤€í¸ì°¨, ë¶„ìœ„ìˆ˜, ì™œë„, ì²¨ë„

**âœ… ì„±ëŠ¥ ê°œì„ :**
- **ìƒ˜í”Œë‹¹ í‰ê·  ì‹œê°„**: ~0.007ì´ˆ
- **ì„±ê³µë¥ **: 100%
- **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: í¬ê²Œ ê°œì„ 
- **ì•ˆì •ì„±**: ì˜¤ë¥˜ ì²˜ë¦¬ ê°•í™”

### 3. **í…ŒìŠ¤íŠ¸ ê²°ê³¼**

#### ğŸ§ª **ì¢…í•© í…ŒìŠ¤íŠ¸ í†µê³¼**
```
ë‚´ì¥ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘: âœ… ì„±ê³µ
generate_data: âœ… ì„±ê³µ  
bias_correction: âœ… ì„±ê³µ
ì„±ëŠ¥ í…ŒìŠ¤íŠ¸: âœ… ì„±ê³µ
í†µí•© í…ŒìŠ¤íŠ¸: âœ… ì„±ê³µ
```

#### ğŸ“ˆ **ì‹¤ì œ ê²°ê³¼ ì˜ˆì‹œ**
```
ì›ë³¸ íš¨ê³¼:
  direct_effect: -0.3200
  indirect_effect: 0.0158
  total_effect: -0.3042
  indirect_via_Y: 0.0158

ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê²°ê³¼ (30ê°œ ìƒ˜í”Œ):
  direct_effects: í‰ê· =-0.5423, í‘œì¤€í¸ì°¨=1.1430
  indirect_effects: í‰ê· =0.0878, í‘œì¤€í¸ì°¨=0.4998
  total_effects: í‰ê· =-0.4545, í‘œì¤€í¸ì°¨=0.9124

ì‹ ë¢°êµ¬ê°„ (95%):
  direct_effects: [-3.4402, 0.8950]
  indirect_effects: [-0.5113, 1.6231]
  total_effects: [-2.8709, 0.7940]
```

### 4. **ê¸°ì¡´ ê²½ë¡œë¶„ì„ ëª¨ë“ˆê³¼ì˜ ì—°ê³„**

#### âœ… **ì™„ë²½í•œ í†µí•©**
```python
# PathAnalyzer â†’ EffectsCalculator â†’ semopy ë‚´ì¥ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘
PathAnalyzer.fit_model()
â”œâ”€â”€ ëª¨ë¸ ì í•©
â”œâ”€â”€ model_spec ì €ì¥
â””â”€â”€ _process_results()
    â””â”€â”€ _perform_bootstrap_analysis()
        â””â”€â”€ EffectsCalculator.calculate_bootstrap_effects()
            â”œâ”€â”€ _run_semopy_native_bootstrap_sampling() (1ìˆœìœ„)
            â””â”€â”€ _run_semopy_bootstrap_sampling() (fallback)
```

#### ğŸ”„ **ì„¤ì • ê¸°ë°˜ ìë™ ì‹¤í–‰**
- `config.include_bootstrap_ci=True`: ìë™ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ì‹¤í–‰
- `config.bootstrap_samples`: ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ìƒ˜í”Œ ìˆ˜
- `config.bootstrap_method`: ì‹ ë¢°êµ¬ê°„ ê³„ì‚° ë°©ë²•

### 5. **ì œê±°ëœ ê¸°ì¡´ ë³µì¡í•œ ì½”ë“œ**

#### ğŸ—‘ï¸ **ì •ë¦¬ëœ ë¶€ë¶„**
1. **ë³µì¡í•œ ë³‘ë ¬ ì²˜ë¦¬**: `ProcessPoolExecutor` ê´€ë ¨ ì½”ë“œ ê°„ì†Œí™”
2. **ì¤‘ë³µ ë©”ì„œë“œ**: ë¶ˆí•„ìš”í•œ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ë©”ì„œë“œ ì œê±°
3. **ê³¼ë„í•œ ì˜¤ë¥˜ ì²˜ë¦¬**: í•µì‹¬ ì˜¤ë¥˜ ì²˜ë¦¬ë§Œ ìœ ì§€
4. **ë¶ˆí•„ìš”í•œ ì„í¬íŠ¸**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì •ë¦¬

#### âœ… **ìœ ì§€ëœ í•µì‹¬ ê¸°ëŠ¥**
1. **semopy ë‚´ì¥ í™œìš©**: `_run_semopy_native_bootstrap_sampling()`
2. **íš¨ê³¼ ê³„ì‚°**: `_calculate_path_effects_from_model()`
3. **ì‹ ë¢°êµ¬ê°„**: `_calculate_confidence_intervals()`
4. **í†µê³„ ê³„ì‚°**: `_calculate_bootstrap_statistics()`

### 6. **ìµœì¢… ê¶Œì¥ì‚¬í•­**

#### ğŸ¯ **í˜„ì¬ êµ¬í˜„ ìƒíƒœ**
- âœ… **semopy ë‚´ì¥ ê¸°ëŠ¥ ìµœëŒ€ í™œìš©**: `generate_data`, `bias_correction`
- âœ… **ê¸°ì¡´ ëª¨ë“ˆê³¼ ì™„ë²½ ì—°ê³„**: PathAnalyzer í†µí•©
- âœ… **ì•ˆì •ì„±ê³¼ íš¨ìœ¨ì„±**: ì´ì¤‘ ì•ˆì „ì¥ì¹˜ (ë‚´ì¥ + ìˆ˜ë™)
- âœ… **í¬ê´„ì ì¸ ë¶„ì„**: ëª¨ë“  ë§¤ê°œíš¨ê³¼ ê²½ë¡œ ë¶„ì„

#### ğŸ“ **ì‚¬ìš© ë°©ë²•**
```python
from path_analysis import PathAnalyzer, PathAnalysisConfig

# ì„¤ì •
config = PathAnalysisConfig(
    include_bootstrap_ci=True,
    bootstrap_samples=2000,
    bootstrap_method='non-parametric',
    mediation_bootstrap_samples=3000
)

# ë¶„ì„ ì‹¤í–‰
analyzer = PathAnalyzer(config)
results = analyzer.fit_model(data, model_spec)

# ê²°ê³¼ í™•ì¸
bootstrap_results = results['bootstrap_results']
mediation_results = results['mediation_results']
```

## ğŸ† **ìµœì¢… ê²°ë¡ **

### âœ… **ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ì‘ì—…**
1. **semopy ë‚´ì¥ ê¸°ëŠ¥ í™•ì¸**: `bias_correction`, `generate_data` ë°œê²¬ ë° í™œìš©
2. **íš¨ìœ¨ì ì¸ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘**: semopy ë‚´ì¥ ê¸°ëŠ¥ ìš°ì„  ì‚¬ìš©, ìˆ˜ë™ ë°©ì‹ fallback
3. **ê¸°ì¡´ ëª¨ë“ˆ ì™„ë²½ ì—°ê³„**: PathAnalyzerì™€ seamless í†µí•©
4. **ì„±ëŠ¥ ìµœì í™”**: ê°„ì†Œí™”ëœ êµ¬ì¡°ë¡œ ì•ˆì •ì„±ê³¼ íš¨ìœ¨ì„± í™•ë³´
5. **ì™„ì „í•œ ê²€ì¦**: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

### ğŸ“Š **ìµœì¢… í‰ê°€**
- **ì •í™•ì„±**: âœ… semopy ë‚´ì¥ ê¸°ëŠ¥ í™œìš©ìœ¼ë¡œ ë” ì •í™•í•œ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘
- **íš¨ìœ¨ì„±**: âœ… ë¶ˆí•„ìš”í•œ ë³µì¡ì„± ì œê±°, ì„±ëŠ¥ í–¥ìƒ
- **ì•ˆì •ì„±**: âœ… ì´ì¤‘ ì•ˆì „ì¥ì¹˜ë¡œ robustí•œ êµ¬í˜„
- **í™•ì¥ì„±**: âœ… ë‹¤ì–‘í•œ ë§¤ê°œíš¨ê³¼ ë¶„ì„ ì§€ì›
- **ì‚¬ìš©ì„±**: âœ… ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ ìœ ì§€, ì‰¬ìš´ ì‚¬ìš©

### ğŸ‰ **ê²°ê³¼**
**semopyì—ëŠ” ê³µì‹ ë¬¸ì„œì— ì–¸ê¸‰ëœ `inspect(bootstrap=True)` ê¸°ëŠ¥ì´ ì‹¤ì œë¡œëŠ” êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì§€ë§Œ, `bias_correction`ê³¼ `generate_data` ê°™ì€ ë” ê°•ë ¥í•œ ë‚´ì¥ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê´€ë ¨ ê¸°ëŠ¥ë“¤ì„ ë°œê²¬í•˜ì—¬ ì´ë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì´ê³  ì •í™•í•œ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ì‹œìŠ¤í…œì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.**

**ê¸°ì¡´ ìì²´ êµ¬í˜„ ë¶€íŠ¸ìŠ¤íŠ¸ë˜í•‘ ê¸°ëŠ¥ì„ ì™„ì „íˆ ëŒ€ì²´í•˜ê³ , semopy ë‚´ì¥ ê¸°ëŠ¥ì„ ìµœëŒ€í•œ í™œìš©í•˜ëŠ” hybrid ë°©ì‹ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.**
